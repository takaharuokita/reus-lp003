const $domainList = [
    //トップドメイン
    ".com",
    ".net",
    ".jp",
    ".info",
    ".org",
    ".biz",
    ".ac",
    ".academy",
    ".accountant",
    ".accountants",
    ".actor",
    ".adult",
    ".ae",
    ".aero",
    ".ag",
    ".agency",
    ".ai",
    ".airforce",
    ".am",
    ".apartments",
    ".at",
    ".attorney",
    ".auction",
    ".audio",
    ".auto",
    ".baby",
    ".band",
    ".bar",
    ".bargains",
    ".be",
    ".beer",
    ".best",
    ".bid",
    ".bike",
    ".bingo",
    ".bio",
    ".pl",
    ".black",
    ".blackfriday",
    ".blog",
    ".blue",
    ".boutique",
    ".builders",
    ".business",
    ".buzz",
    ".bz",
    ".cab",
    ".cafe",
    ".cam",
    ".camera",
    ".camp",
    ".capital",
    ".car",
    ".cards",
    ".care",
    ".careers",
    ".cars",
    ".casa",
    ".cash",
    ".casino",
    ".catering",
    ".cc",
    ".center",
    ".ceo",
    ".ch",
    ".chat",
    ".cheep",
    ".chiritmas",
    ".church",
    ".city",
    ".claims",
    ".cleaning",
    ".click",
    ".clinic",
    ".clothing",
    ".cloud",
    ".club",
    ".cm",
    ".cn",
    ".co",
    ".in",
    ".nz",
    ".coach",
    ".codes",
    ".coffee",
    ".college",
    ".au",
    ".ru",
    ".sg",
    ".tw",
    ".community",
    ".company",
    ".computer",
    ".condos",
    ".construction",
    ".consulting",
    ".contractors",
    ".cooking",
    ".cool",
    ".country",
    ".coupons",
    ".credit",
    ".creditcard",
    ".cricket",
    ".cruises",
    ".cx",
    ".cyou",
    ".cz",
    ".dance",
    ".date",
    ".dating",
    ".deals	",
    ".degree",
    ".delivery",
    ".democrat",
    ".dental",
    ".dentist",
    ".design",
    ".dev",
    ".diamonds",
    ".diet",
    ".digital",
    ".direct",
    ".directory",
    ".discount",
    ".dog",
    ".domains",
    ".download",
    ".education",
    ".email	",
    ".energy",
    ".engineer",
    ".engineering",
    ".enterprises",
    ".equipment",
    ".es",
    ".estate",
    ".eu",
    ".events",
    ".exchange",
    ".expert",
    ".exposed",
    ".express",
    ".fail",
    ".faith",
    ".family",
    ".fan",
    ".farm",
    ".fashion",
    ".finance",
    ".financial",
    ".fish",
    ".fishing",
    ".fit",
    ".fitness",
    ".flights",
    ".florist",
    ".flowers",
    ".fm",
    ".football",
    ".forsale",
    ".foundation",
    ".fun",
    ".fund",
    ".furniture",
    ".futbol",
    ".fly",
    ".gallery",
    ".game",
    ".games",
    ".garden",
    ".gift",
    ".gifts",
    ".gives",
    ".glass",
    ".global",
    ".gold",
    ".golf",
    ".gr",
    ".graphics",
    ".gratis",
    ".green",
    ".gripe",
    ".group",
    ".gs",
    ".guide",
    ".guitars",
    ".guru",
    ".hu",
    ".haus",
    ".health",
    ".healthcare",
    ".help",
    ".hiphop",
    ".hiv",
    ".hn",
    ".hockey",
    ".holdings",
    ".holiday",
    ".homes",
    ".horse",
    ".host",
    ".hosting",
    ".house",
    ".how",
    ".ht",
    ".icu",
    ".id",
    ".tw",
    ".im",
    ".immo",
    ".immobilien",
    ".in",
    ".inc",
    ".industries",
    ".ink",
    ".institute",
    ".insure",
    ".international",
    ".investments",
    ".io",
    ".it",
    ".jewelry",
    ".jobs",
    ".juegos",
    ".kaufen",
    ".ki",
    ".kim",
    ".kitchen",
    ".kiwi",
    ".kr",
    ".kyoto",
    ".la",
    ".land",
    ".lawyer",
    ".lc",
    ".lease",
    ".legal",
    ".li",
    ".life",
    ".lighting",
    ".limited",
    ".limo",
    ".link",
    ".live",
    ".loan",
    ".loans",
    ".lol",
    ".london",
    ".love",
    ".lt",
    ".ltd",
    ".lu",
    ".luxe",
    ".maison",
    ".management",
    ".market",
    ".marketing",
    ".mba",
    ".md",
    ".me",
    ".media",
    ".memorial",
    ".men",
    ".mg",
    ".mn",
    ".mobi",
    ".moda",
    ".mom",
    ".money",
    ".monster",
    ".mortgage",
    ".movie",
    ".ms",
    ".mu",
    ".mx",
    ".nu",
    ".nagoya",
    ".name",
    ".navy",
    ".network",
    ".news",
    ".nf",
    ".ninja",
    ".nl",
    ".okinawa",
    ".onl",
    ".online",
    ".ooo",
    ".organic",
    ".page",
    ".partners",
    ".parts",
    ".party",
    ".pk",
    ".pe",
    ".pet",
    ".ph",
    ".photo",
    ".photography",
    ".photos",
    ".pics",
    ".pizza",
    ".place",
    ".plumbing",
    ".plus",
    ".poker",
    ".porn",
    ".press",
    ".pro",
    ".productions",
    ".promo",
    ".properties",
    ".property",
    ".protection",
    ".pub",
    ".pw",
    ".qpon",
    ".racing",
    ".recipes",
    ".red",
    ".rehab",
    ".reisen",
    ".rent",
    ".rentals",
    ".repair",
    ".report",
    ".republican",
    ".rest",
    ".restaurant",
    ".review",
    ".reviews",
    ".rich",
    ".rip",
    ".ro",
    ".rocks",
    ".rodeo",
    ".ru",
    ".run",
    ".ryukyu",
    ".sale",
    ".salon",
    ".sarl",
    ".sc",
    ".school",
    ".schule",
    ".science",
    ".se",
    ".security",
    ".services",
    ".sex",
    ".sexy",
    ".sg",
    ".sh",
    ".shoes",
    ".shop",
    ".show",
    ".si",
    ".singles",
    ".site",
    ".sk",
    ".ski",
    ".soccer",
    ".social",
    ".software",
    ".solar",
    ".solutions",
    ".space",
    ".storage",
    ".store",
    ".studio",
    ".style",
    ".supplies",
    ".supply",
    ".support",
    ".surf",
    ".surgery",
    ".systems",
    ".tattoo",
    ".tax",
    ".taxi",
    ".tc",
    ".tk",
    ".team",
    ".tech",
    ".technology",
    ".trl",
    ".tennis",
    ".theater",
    ".theatre",
    ".tienda",
    ".tips",
    ".tires",
    ".tl",
    ".today",
    ".tokyo",
    ".tools",
    ".top",
    ".tours",
    ".town",
    ".toys",
    ".trade",
    ".training",
    ".travel",
    ".tv",
    ".university",
    ".uno",
    ".uk",
    ".uz",
    ".vacations",
    ".vc",
    ".vegas",
    ".ventures",
    ".vet",
    ".vg",
    ".viajes",
    ".video",
    ".villas",
    ".vin",
    ".vip",
    ".vision",
    ".vodka",
    ".voyage",
    ".watch",
    ".webcam",
    ".website",
    ".wedding",
    ".wiki",
    ".win",
    ".wine",
    ".work",
    ".works",
    ".world",
    ".ws",
    ".wtf",
    ".コム",
    ".xxx",
    ".xyz",
    ".yoga",
    ".yokohama",
    ".zone",
];

function check(input) {
    let $mailAddress = $(".required-mail, .required-mail-referral").val();
    let $index = $mailAddress.lastIndexOf(".");
    let $domain = $mailAddress.slice($index);
    if ($domainList.indexOf($domain) > -1) {
        input.setCustomValidity("");
    } else {
        //上記、ドメインと一致しない場合
        input.setCustomValidity("正しく入力しなおしてください。");
    }
}

$(".required-mail").blur(function () {
    let $mailAddress = $(".required-mail").val();
    let $index = $mailAddress.lastIndexOf(".");
    let $domain = $mailAddress.slice($index);

    if ($domainList.indexOf($domain) > -1) {
        $(".error-mail").hide();
    } else {
        $(".error-mail").show();
        email.validity(true);
    }
});
$(".required-mail-referral").blur(function () {
    let $mailAddress = $(".required-mail-referral").val();
    let $index = $mailAddress.lastIndexOf(".");
    let $domain = $mailAddress.slice($index);

    if ($domainList.indexOf($domain) > -1) {
        $(".error-mail-referral").hide();
    } else {
        $(".error-mail-referral").show();
        email.validity(true);
    }
});
